<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Centered Page</title>
        <style>
            body {
                max-width: 600px; /* Adjust width as needed */
                margin: auto; /* Centers the block */
                text-align: justify; /* Justifies text left and right */
                padding: 20px;
            }
        </style>
    </head>
    <div class="container">
        <h1>To-Do List</h1>
        <input type="text" id="taskInput" placeholder="Add a new task..." />
        <button id="addTaskBtn">Add Task</button>
        <ul id="taskList">
            <li id="sample-task-01">
                <input type="checkbox" />
                <span>DO some work stuff.</span>
            </li>
        </ul>
    </div>

    <hr />

    <div class="todo2">
        <button id="button2" onclick="displayValue();">Display Some Value</button>
        <div id="displayValueArea"></div>
    </div>
    <script>
        localStorage.setItem('username', 'John');
        const username = localStorage.getItem('username');

        console.log(username);

        function displayValue() {
            const displayValueArea = document.getElementById('displayValueArea');

            // displayValueArea.textContent = 10;

            const timestamp = Date.now(); // Get current timestamp
            const date = new Date(timestamp);
            const isoString = date.toISOString();

            displayValueArea.innerHTML = isoString + '<br><br>';

            for (i = 1; i < 5; i++) {
                console.log(`ha: ${i} !`);

                // displayValueArea.textContent += `ha: ${i}!\n`;
                displayValueArea.innerHTML += `ha: ${i} !<br>`;
            }
        }

        function onRemoveLi() {
            const sampleTask = document.getElementById('sample-task-01');
            const sampleSpan = sampleTask.querySelectorAll('span')[0];

            if (sampleSpan) {
                sampleSpan.onclick = () => sampleTask.remove();
            }
        }
        onRemoveLi();

        document.addEventListener('DOMContentLoaded', () => {
            const taskInput = document.getElementById('taskInput');
            const addTaskBtn = document.getElementById('addTaskBtn');
            const taskList = document.getElementById('taskList');

            const randomTask = [
                'Do laundry',
                'Take out trash',
                'Clean basement',
                'Go for 1 hr run',
                'Some other workout',
                'Need to go grocery',
            ];

            addTaskBtn.addEventListener('click', () => {
                let taskText = taskInput.value.trim();

                if (taskText === '') {
                    const randomElement = randomTask[Math.floor(Math.random() * randomTask.length)];
                    // alert('Some random task will be assigned');
                    taskText = randomElement;
                }

                console.log(taskText);

                const li = document.createElement('li');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';

                const span = document.createElement('span');
                span.textContent = taskText;

                // DEBUG: Log the state of `li` before appending the span
                // console.log('Before appending span:', li.cloneNode(true));

                li.appendChild(checkbox);

                // DEBUG: Log the state of `li` after appending the checkbox
                // console.log('After appending checkbox:', li.cloneNode(true));

                li.appendChild(span);

                // DEBUG: Log the state of `li` after appending the span
                // console.log('After appending span:', li.cloneNode(true));

                taskList.appendChild(li);

                span.onclick = () => li.remove();

                taskInput.value = '';
            });
        });
    </script>
</html>
